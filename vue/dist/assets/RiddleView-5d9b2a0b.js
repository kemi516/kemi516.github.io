import{h as B,j as M,k as N,l as U}from"./api-43aec3d8.js";import{d as j,r as c,C as T,b as r,o as x,c as F,l as R,e,w as l,h as i,i as v,q as k,H as q,D as $,j as A,m as I,F as L,I as H}from"./index-77c538a5.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const Y=j({__name:"RiddleModal",props:["dialogTableVisible","rowData","judge"],setup(D){const u=D,n=c(!1),w=()=>{n.value=!1,setTimeout(()=>{location.reload()},1500)};n.value=u.dialogTableVisible;const C=c("default"),g=c();let t=T({id:"",content:"我是谁？",answer:"我是管理员"});const y=T({content:[{required:!0,message:"请输入内容",trigger:"blur"}],answer:[{required:!0,message:"请输入答案",trigger:"change"}]}),m=async _=>{_&&await _.validate((o,d)=>{o?(u.judge?B(t):M(u.rowData),console.log(o,"submit!xxx",u.rowData),k({message:"Congrats, this is a success message.",type:"success"}),setTimeout(()=>{location.reload()},1500)):console.log("数据没填",d)})};return u.judge?console.log("judge"):t=u.rowData,(_,o)=>{const d=r("el-input"),a=r("el-form-item"),b=r("el-button"),p=r("el-form"),f=r("el-dialog");return x(),F("div",null,[R("div",null,[e(f,{modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=s=>n.value=s),title:"user info","close-on-click-modal":!1},{default:l(()=>[e(p,{ref_key:"ruleFormRef",ref:g,model:i(t),rules:y,"label-width":"120px",class:"demo-ruleForm",size:C.value,"status-icon":""},{default:l(()=>[e(a,{label:"id",prop:"id"},{default:l(()=>[e(d,{modelValue:i(t).id,"onUpdate:modelValue":o[0]||(o[0]=s=>i(t).id=s),disabled:""},null,8,["modelValue"])]),_:1}),e(a,{label:"content",prop:"content"},{default:l(()=>[e(d,{modelValue:i(t).content,"onUpdate:modelValue":o[1]||(o[1]=s=>i(t).content=s)},null,8,["modelValue"])]),_:1}),e(a,{label:"answer",prop:"answer"},{default:l(()=>[e(d,{modelValue:i(t).answer,"onUpdate:modelValue":o[2]||(o[2]=s=>i(t).answer=s)},null,8,["modelValue"])]),_:1}),e(a,null,{default:l(()=>[e(b,{type:"primary",onClick:o[3]||(o[3]=s=>m(g.value))},{default:l(()=>[v(" Create ")]),_:1}),e(b,{onClick:w},{default:l(()=>[v("取消")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])]),_:1},8,["modelValue"])])])}}});const G=S(Y,[["__scopeId","data-v-9618af11"]]),P=j({__name:"RiddleView",setup(D){const u=c(!1),n=c("11"),w=async()=>{g=(await N()).data.data,n.value=""};q(()=>{w()});let C=$(()=>g.filter(a=>!n.value||a.content.toLowerCase().includes(n.value.toLowerCase()))),g=[{id:"",content:"我是谁",answer:"kemi"}];const t=a=>{U(a.id),w(),setTimeout(()=>{location.reload()},1500),k({message:"Congrats, this is a success message.",type:"success"})},y=()=>{console.log("cancel!"),k.error("取消删除   ")},m=c(!1),_=c(""),o=a=>{m.value=!0,_.value=a},d=()=>{m.value=!0,u.value=!0};return(a,b)=>{const p=r("el-button"),f=r("el-table-column"),s=r("el-input"),h=r("el-popconfirm"),z=r("el-table");return x(),F(L,null,[e(p,{type:"primary",onClick:d},{default:l(()=>[v("新增")]),_:1}),e(z,{data:i(C),style:{width:"100%"},height:"80vh"},{default:l(()=>[e(f,{fixed:"",label:"id",prop:"id"}),e(f,{label:"content",prop:"content"}),e(f,{label:"answer",prop:"answer"}),e(f,{align:"right"},{header:l(()=>[e(s,{modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=V=>n.value=V),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:l(V=>[R("div",null,[e(p,{size:"small",onClick:E=>o(V.row)},{default:l(()=>[v(" Edit ")]),_:2},1032,["onClick"]),e(p,{size:"small",type:"danger"},{default:l(()=>[e(h,{"confirm-button-text":"Yes","cancel-button-text":"No",icon:i(H),"icon-color":"#626AEF",title:"Are you sure to delete this?",onConfirm:E=>t(V.row),onCancel:y},{reference:l(()=>[e(p,null,{default:l(()=>[v("Delete")]),_:1})]),_:2},1032,["icon","onConfirm"])]),_:2},1024)])]),_:1})]),_:1},8,["data"]),m.value?(x(),A(G,{key:0,dialogTableVisible:m.value,rowData:_.value,judge:u.value},null,8,["dialogTableVisible","rowData","judge"])):I("",!0)],64)}}});export{P as default};
