import{q as e,n as s,o as a,e as t,a as l,w as r,c as u,d,F as o,i as n,b as i,g as f,f as h,t as _,h as c,p as g}from"./index-91317e6b.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const b=m({data(){return{bagshow:!1,orders:this.$store.state.order||[],bags:this.$store.state.bags||[],historyOrder:this.$store.state.historyOrder||[]}},onLoad(e){},computed:{total(){return this.orders.length>0?this.orders.map((e=>Number(e.price*e.value))).reduce(((e,s)=>e+s)):0}},methods:{...e(["XhistoryOrder","Xbags"]),jiesuan(e){this.XhistoryOrder([...this.orders,...this.historyOrder]),setTimeout((()=>{s({url:"/pages/orders/orders"})}),500),this.bagshow=!0,setTimeout((()=>{this.bagshow=!1}),500),Array.from(e).forEach((e=>{this.bags=this.bags.filter((s=>s.time!==e.time))})),this.Xbags(this.bags)}}},[["render",function(e,s,m,b,p,w){const y=c,x=n,D=g;return a(),t(o,null,[l(x,{class:"box"},{default:r((()=>[l(x,{class:"header"},{default:r((()=>[l(x,{class:"user"},{default:r((()=>[l(y,{class:"name"},{default:r((()=>[i("爱丽丝")])),_:1}),l(y,{class:"phone"},{default:r((()=>[i("15975203889")])),_:1}),l(y,{class:"yes"},{default:r((()=>[i("默认")])),_:1})])),_:1}),l(x,null,{default:r((()=>[i(" 广东省广州市广州科技职业技术大学 ")])),_:1})])),_:1}),l(x,{class:"order-box"},{default:r((()=>[f("p",null,"订单信息"),(a(!0),t(o,null,h(p.orders,(e=>(a(),u(x,{class:"order"},{default:r((()=>[l(D,{src:e.small_img},null,8,["src"]),l(x,null,{default:r((()=>[l(x,{class:"order-text"},{default:r((()=>[f("p",null,[i(_(e.name)+" ",1),l(y,null,{default:r((()=>[i(_(e.temName)+_(e.sugarName?"/"+e.sugarName:""),1)])),_:2},1024)]),f("p",null,_(e.enname),1)])),_:2},1024),l(x,null,{default:r((()=>[l(y,{class:"price"},{default:r((()=>[i("￥"+_(e.price),1)])),_:2},1024),l(y,null,{default:r((()=>[i("x"+_(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),l(x,{class:"date"},{default:r((()=>[f("p",null,[l(y,null,{default:r((()=>[i(_((new Date).getFullYear())+"-"+_((new Date).getMonth()+1)+"-"+_((new Date).getDate()),1)])),_:1}),i("  "),l(y,null,{default:r((()=>[i(_((new Date).getHours())+":"+_((new Date).getMinutes()+1)+":"+_((new Date).getSeconds()),1)])),_:1})]),l(x,null,{default:r((()=>[l(y,null,{default:r((()=>[i("共计"+_(p.orders.length)+"件",1)])),_:1}),l(y,null,{default:r((()=>[i("合计 ￥"+_(w.total),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),l(x,{class:"foot"},{default:r((()=>[l(x,{onClick:s[0]||(s[0]=e=>w.jiesuan(this.orders))},{default:r((()=>[i(" 立即结算 ")])),_:1})])),_:1}),p.bagshow?(a(),u(x,{key:0,class:"bagShow"},{default:r((()=>[i(" 购买成功 ")])),_:1})):d("",!0)],64)}],["__scopeId","data-v-0baabb0c"]]);export{b as default};
